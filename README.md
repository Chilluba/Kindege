# Shadow Flight Crash Game

Shadow Flight is a thrilling, futuristic-themed "crash" betting game. Players place a bet and watch as a plane ascends, increasing a payout multiplier. The goal is to cash out before the pursuing "shadow" plane closes in and ends the round. It's a game of nerve, timing, and risk management.

This project is configured to be deployed as both a **standalone web application** and as a **native mobile app for iOS and Android**.

![Shadow Flight Gameplay](https://storage.googleapis.com/project-game-assets/shadow-flight-promo.png)

## Key Features

-   **Cross-Platform**: Run on any modern web browser or install as a native app on your phone.
-   **Enhanced Native Haptics**: The native mobile version uses the iPhone's Taptic Engine and Android's vibration APIs for a deeply immersive experience.
-   **Dynamic Payout Drain**: The closer the shadow gets, the lower your effective multiplier becomes, forcing strategic decisions.
-   **Adaptive Difficulty**: The game's AI adjusts its aggression based on your performance, keeping the game engaging.
-   **AI-Generated Mission Briefings**: Each round features a unique, thematic flight log generated by the **Google Gemini API**.
-   **Procedural Audio**: All sound effects are synthesized in real-time using the Web Audio API, eliminating the need for audio files.
-   **Modern Tech Stack**: Built with React, TypeScript, Vite, and Capacitor for a clean, performant, and maintainable codebase.

## Tech Stack

-   **Frontend**: React with TypeScript
-   **Build Tool**: Vite
-   **Native Wrapper**: Capacitor
-   **Styling**: Tailwind CSS
-   **AI**: Google Gemini API (`gemini-2.5-flash`)
-   **Audio**: Web Audio API
-   **Haptics**: Capacitor Haptics Plugin (Native) / Web Vibration API (Web)

---

## Getting Started: Setup for Both Versions

Follow these initial steps regardless of whether you are targeting web or native mobile.

### Prerequisites

-   [Node.js](https://nodejs.org/) (LTS version recommended)
-   A **Google Gemini API Key**. You can obtain one from [Google AI Studio](https://aistudio.google.com/app/apikey).

### Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/your-username/shadow-flight-game.git
    cd shadow-flight-game
    ```

2.  **Install dependencies:**
    ```bash
    npm install
    ```

3.  **Set up your API Key:**
    - Create a new file named `src/config.ts`.
    - Add the following content, replacing the placeholder with your key:
      ```typescript
      // src/config.ts
      export const API_KEY = 'YOUR_GEMINI_API_KEY_HERE';
      ```
    *Note: This file is included in `.gitignore` to prevent you from accidentally committing your secret key.*

---

## ðŸš€ Version 1: Web Application

Use these instructions to run the game in your browser and deploy it to a web hosting service.

### Running Locally

1.  Start the development server:
    ```bash
    npm run dev
    ```
2.  Open your browser and navigate to the local address provided (e.g., `http://localhost:5173`).

### Web Deployment

1.  **Build the application:**
    ```bash
    npm run build
    ```
    This command compiles the project into a `dist` folder, which contains the optimized, static assets for your game.

2.  **Deploy the `dist` folder:**
    You can deploy this folder to any static hosting provider. Popular choices include:
    -   [Vercel](https://vercel.com/)
    -   [Netlify](https://www.netlify.com/)
    -   [GitHub Pages](https://pages.github.com/)

    Simply connect your Git repository to one of these services, and configure it to build using `npm run build` and serve from the `dist` directory.

---

## ðŸ“± Version 2: Native Mobile App (iOS & Android)

Use these instructions to build the game as a native app and run it on a physical device.

### Native Prerequisites

-   **For iOS**: A Mac with [Xcode](https://developer.apple.com/xcode/) installed.
-   **For Android**: [Android Studio](https://developer.android.com/studio) installed and configured.
-   Run `npm install -g @capacitor/cli` to install the Capacitor command-line tool globally.

### Building and Running the Native App

1.  **Sync Web Assets:**
    First, you need to build your web app and copy the assets into the native projects.
    ```bash
    npm run native:sync
    ```
    This command runs `npm run build` and then `npx cap sync`. You should run this command anytime you make changes to the web-based code.

2.  **Open the Native IDE:**

    **For iOS:**
    ```bash
    npm run native:ios
    ```
    This command will open the native iOS project in Xcode. From Xcode, you can run the app on a simulator or a connected iPhone. You will need to configure code signing with your Apple Developer account to run on a physical device.

    **For Android:**
    ```bash
    npm run native:android
    ```
    This command will open the native Android project in Android Studio. From there, you can run the app on an emulator or a connected Android device.

3.  **Test on Device:**
    Once the project is open in Xcode or Android Studio, use the standard "Run" or "Play" button in the IDE to build and install the app on your selected device or simulator. You will now experience the enhanced native haptic feedback!

## License

This project is licensed under the MIT License.
